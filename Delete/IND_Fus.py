import math
import copy
import numpy as np



if __name__ == '__main__':

    _list1 = [0]*36
    _list2 = [1.0, 1.0, 1.0, 1.0, 1.00018, 1.00126, 1.0, 1.00152, 1.0118, 1.0, 1.14534, 2.21152, 1.0001, 2.44508, 13.07272, 1.00132, 15.51906, 121.86422, 1.0, 1.0, 1.0, 1.0, 1.00018, 1.00126, 1.0, 1.00384, 1.03036, 1.0, 1.37516, 4.15094, 1.00026, 4.7788, 32.56402, 1.00342, 38.97524, 316.89984]
    _list3 = [1, 1, 1, 1, 1.0001, 1.0006, 1, 1.0008, 1.0059, 1, 1.0744, 1.6635, 1.0001, 1.8555, 8.2871, 1.0007, 13.1822, 75.815, 1, 1, 1, 1, 1.0001, 1.0006, 1, 1.0019, 1.0152, 1, 1.1955, 2.7793, 1.0001, 3.5237, 19.2938, 1.0017, 32.9381, 189.3939]
    _list4 = [0.171464646, 0.262373737, 0.280555556, 0.22702020199999998, 0.317929293, 0.336111111, 0.282575758, 0.373484848, 0.391666667, 0.31590909100000003, 0.40681818200000003, 0.425, 0.326435407, 0.417344498, 0.435526316, 0.338131313, 0.429040404, 0.44722222199999995, 0.271464646, 0.362373737, 0.380555556, 0.327020202, 0.41792929300000004, 0.436111111, 0.382575758, 0.47348484799999996, 0.491666667, 0.41590909099999995, 0.5068181820000001, 0.525, 0.426435407, 0.517344498, 0.535526316, 0.438131313, 0.529040404, 0.5472222219999999]
    _list5 = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0001, 0.0, 0.0001, 0.0007, 0.0, 0.0085, 0.0562, 0.0, 0.0658, 0.2088, 0.0001, 0.2319, 0.4034, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0001, 0.0, 0.0002, 0.0018, 0.0, 0.0207, 0.1077, 0.0, 0.1241, 0.2864, 0.0002, 0.3112, 0.4843]

    # #和excel的数据一样了
    # for i in range(36):
    #     _list2[i] = _list2[i] * 100000
    #     _list4[i] = _list4[i] * 100000
        
    _list = [_list1,_list2,_list3,_list4,_list5]
    tem2 = copy.deepcopy(_list)


    ##预处理
    for each in _list:
        minv = min(each)
        maxv = max(each)
        if(maxv - minv):
            for i in range(36):
                each[i] = ((maxv - each[i]) / (maxv - minv)) + 0.01
        else:
            for i in range(36):
                each[i] =  0.01
    targetK = 1/math.log(36)
    ##归一化
    for each in _list:
        sums = sum(each)
        for j in range(36):
            each[j] = each[j] / sums

    ##信息熵值
    listE = []
    for each in _list:
        e = 0
        for k in range(36):
            e += (each[k] * math.log(each[k]))
        # print(targetK,"  ",e,"  ",targetK*e)
        listE.append(1 + targetK * e)
 
    ##权重
    listW = []
    tem = sum(listE)
    for each in listE:
        listW.append(each/tem)
  
    print(listW)
    print(tem2)

    length = len(_list)
    values = []
    for mn in range(36):
        v = 0
        for col in range(length):
            # print(tem[col][mn],end=" ")
            v += (tem2[col][mn]*listW[col])
        values.append(v)
    print(values)
    
